<div class="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-100">
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-bold text-center mb-8 text-gray-800">
      Dekodek Multi-Gaz
      <span class="text-cyan-600">EAN{{ fO2Bottom }}</span>
      <span *ngIf="fO2Deco" class="text-green-600"> + EAN{{ fO2Deco }}</span>
    </h1>
    <div class="mt-8 mb-4">
      <div class="bg-red-50 border-l-4 border-red-500 rounded-lg p-4 shadow-md">
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <svg class="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
            </svg>
          </div>
          <div class="ml-3 flex-1">
            <h3 class="text-sm font-semibold text-red-800 mb-2">
              Avertissement Important
            </h3>
            <div class="text-sm text-red-700 space-y-1">
              <p>
                <strong>Cette application est fournie à titre informatif et éducatif uniquement.</strong>
              </p>
              <p>
                Les calculs de décompression présentés ici utilisent l'algorithme ZH-L16C et ne remplacent en aucun cas un ordinateur de plongée certifié ni une formation professionnelle en plongée technique.
              </p>
              <p>
                <strong>L'utilisation de cette application se fait à vos propres risques.</strong> Les auteurs et développeurs ne peuvent être tenus responsables des accidents, blessures ou décès résultant de l'utilisation de ces calculs.
              </p>
              <p>
                Toujours vérifier vos profils de plongée avec un ordinateur de plongée certifié, suivre les protocoles de sécurité établis, et ne jamais plonger au-delà de votre niveau de certification et d'expérience.
              </p>
              <p class="mt-2 font-semibold">
                La plongée comporte des risques inhérents. Plongez toujours de manière responsable et avec un binôme qualifié.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="flex flex-col lg:flex-row gap-6">
      <!-- Sidebar -->
      <div class="w-full lg:w-80 bg-white rounded-lg shadow-lg p-6 h-fit">
        <h2 class="text-2xl font-semibold mb-6 text-gray-700 border-b pb-2">
          Mélanges Gazeux
        </h2>

        <div class="space-y-6">
          <!-- O2 Bottom -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Oxygène Fond (%)
            </label>
            <input
              type="range"
              min="21"
              max="40"
              [(ngModel)]="fO2Bottom"
              (ngModelChange)="onInputChange()"
              class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-cyan-600"
            />
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>21%</span>
              <span class="font-semibold text-cyan-600">{{ fO2Bottom }}%</span>
              <span>40%</span>
            </div>
          </div>

          <!-- MOD Warning -->
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
            <p class="text-sm text-yellow-800">
              <span class="font-semibold">MOD (PPO2 1.6):</span>
              <span class="ml-2 text-lg font-bold">{{ mod.toFixed(1) }}m</span>
            </p>
          </div>

          <!-- Deco Gas -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Gaz de Déco (Optionnel)
            </label>
            <select
              [(ngModel)]="fO2Deco"
              (ngModelChange)="onInputChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"
            >
              <option [ngValue]="null">Aucun</option>
              <option [ngValue]="50">EAN50</option>
              <option [ngValue]="80">EAN80</option>
              <option [ngValue]="100">O2 100%</option>
            </select>
          </div>

          <!-- Profondeur Max -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Profondeur Max (m)
            </label>
            <input
              type="number"
              min="10"
              [max]="maxDepth"
              [(ngModel)]="profMax"
              (ngModelChange)="onInputChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"
            />
          </div>

          <!-- Temps au Fond -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Temps au Fond (min)
            </label>
            <input
              type="number"
              min="1"
              max="60"
              [(ngModel)]="tFond"
              (ngModelChange)="onInputChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"
            />
          </div>

          <!-- GF Low -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              GF Low
            </label>
            <input
              type="range"
              min="10"
              max="100"
              [(ngModel)]="gfLow"
              (ngModelChange)="onInputChange()"
              class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-cyan-600"
            />
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>10</span>
              <span class="font-semibold text-cyan-600">{{ gfLow }}</span>
              <span>100</span>
            </div>
          </div>

          <!-- GF High -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              GF High
            </label>
            <input
              type="range"
              min="10"
              max="100"
              [(ngModel)]="gfHigh"
              (ngModelChange)="onInputChange()"
              class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-cyan-600"
            />
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>10</span>
              <span class="font-semibold text-cyan-600">{{ gfHigh }}</span>
              <span>100</span>
            </div>
          </div>

          <!-- SAC -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              SAC (L/min)
            </label>
            <input
              type="number"
              min="10"
              max="30"
              step="0.1"
              [(ngModel)]="sac"
              (ngModelChange)="onInputChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"
            />
          </div>

          <!-- Volume Bloc -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Volume Bloc (L)
            </label>
            <input
              type="number"
              min="1"
              max="40"
              [(ngModel)]="volBloc"
              (ngModelChange)="onInputChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"
            />
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex-1 space-y-6">
        <!-- Metrics -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="bg-white rounded-lg shadow-lg p-6 text-center">
            <p class="text-sm text-gray-600 mb-2">Durée Totale</p>
            <p class="text-3xl font-bold text-cyan-600">{{ totalTime }} min</p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-6 text-center">
            <p class="text-sm text-gray-600 mb-2">Pression Finale</p>
            <p class="text-3xl font-bold text-cyan-600">{{ finalPressure }} bar</p>
          </div>
          <div class="bg-white rounded-lg shadow-lg p-6 text-center">
            <p class="text-sm text-gray-600 mb-2">PPO2 Max</p>
            <p class="text-3xl font-bold text-cyan-600">{{ maxPPO2 }} bar</p>
          </div>
        </div>

        <!-- Chart -->
        <div class="bg-white rounded-lg shadow-lg p-6">
          <div class="h-96">
            <canvas #chartCanvas></canvas>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

